<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ke Ao Teensy Flight Software: Development Enviornment Setup Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Ke Ao Teensy Flight Software
   </div>
   <div id="projectbrief">The software on the Teensy in the Ke Ao cubesat.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('development_environment_setup.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Development Enviornment Setup Guide</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This is a guide on how to set up your Development Enviornment (DE) to compile, run, and debug the Teensy Flight Software (FSW).</p>
<h1><a class="anchor" id="step1"></a>
Step 1: Install VSCode</h1>
<p>The FSW is written and compiled using <a href="https://code.visualstudio.com/">Visual Studio Code (VSCode)</a>. Download and install this editor.</p>
<p>Once installed, click the Extensions tab on the left navigation menu.</p>
<p><img src="https://github.com/vip-aerospace/teensy-fsw-documentation/blob/main/documentation/step1.png?raw=true" alt="The Extensions tab is the fifth tab down on the left." class="inline"/></p>
<p>Search for the C/C++ extension and install it if not already installed.</p>
<p><img src="https://github.com/vip-aerospace/teensy-fsw-documentation/blob/main/documentation/step2.png?raw=true" alt="Searching for the C/C++ extension made by Microsoft." class="inline"/></p>
<h1><a class="anchor" id="step2"></a>
Step 2: Install PlatformIO</h1>
<p>The PlatformIO IDE is used for programming the Teensy. It is installed as an extension to VSCode. Search for the PlatformIO IDE extension and install it.</p>
<p><img src="https://github.com/vip-aerospace/teensy-fsw-documentation/blob/main/documentation/step3.png?raw=true" alt="Searching for the PlatformIO IDE extension made by PlatformIO." class="inline"/></p>
<p>You should then see the shell install the IDE. If you do not see this, restart VSCode.</p>
<p><img src="https://github.com/vip-aerospace/teensy-fsw-documentation/blob/main/documentation/step4.png?raw=true" alt="The shell installing PlatformIO IDE." class="inline"/></p>
<p>After installation is complete, <b>RESTART</b> VSCode. Pressing "Reload 
Now" is not sufficient.</p>
<p><img src="https://github.com/vip-aerospace/teensy-fsw-documentation/blob/main/documentation/step5.png?raw=true" alt="PlatformIO IDE installation is complete." class="inline"/></p>
<p>Verify PlatformIO IDE is installed. You should see a new icon in the left navigation menu.</p>
<p><img src="https://github.com/vip-aerospace/teensy-fsw-documentation/blob/main/documentation/step6.png?raw=true" alt="PlatformIO IDE icon in the left navigation menu." class="inline"/></p>
<h1><a class="anchor" id="step3"></a>
Step 3: Build a test project</h1>
<p>You can now verify that the PlatformIO IDE has been installed correctly by creating a test project. Begin by pressing the home button on the bottom navigation bar.</p>
<p><img src="https://github.com/vip-aerospace/teensy-fsw-documentation/blob/main/documentation/step7.png?raw=true" alt="The home button on the bottom navigation bar." class="inline"/></p>
<p>Click on "New Project". If this page does not appear, restart VSCode. If the page still doesn't appear, retry the installation process.</p>
<p><img src="https://github.com/vip-aerospace/teensy-fsw-documentation/blob/main/documentation/step8.png?raw=true" alt="The New Project button on the PIO Home page." class="inline"/></p>
<p>Fill out the Project Wizard as shown and click Finish. Wait for the IDE to create the project.</p>
<ul>
<li>The Name is agent_artemis</li>
<li>The Board is Teensy 4.1</li>
<li>The Framework is Arduino</li>
<li>The Location is set to Use default location</li>
</ul>
<p><img src="https://github.com/vip-aerospace/teensy-fsw-documentation/blob/main/documentation/step9.png?raw=true" alt="The Project Wizard dialog." class="inline"/></p>
<p>If VSCode prompts you to trust the authors, click Yes.</p>
<p><img src="https://github.com/vip-aerospace/teensy-fsw-documentation/blob/main/documentation/step10.png?raw=true" alt="The trust authors dialog." class="inline"/></p>
<p>You should now see the project open in your workspace.</p>
<p><img src="https://github.com/vip-aerospace/teensy-fsw-documentation/blob/main/documentation/step11.png?raw=true" alt="The agent_artemis project open in the VSCode workspace." class="inline"/></p>
<p>The main code is located in <code><a class="el" href="main_8cpp.html" title="The main operating loop for the Teensy.">src/main.cpp</a></code>. Add the following code to this file: </p><div class="fragment"><div class="line">/**</div>
<div class="line"> * Blink</div>
<div class="line"> *</div>
<div class="line"> * Turns on an LED on for one second,</div>
<div class="line"> * then off for one second, repeatedly.</div>
<div class="line"> */</div>
<div class="line">#include &quot;Arduino.h&quot;</div>
<div class="line"> </div>
<div class="line">// Set LED_BUILTIN if it is not defined by Arduino framework</div>
<div class="line">// #define LED_BUILTIN 13</div>
<div class="line"> </div>
<div class="line">void setup()</div>
<div class="line">{</div>
<div class="line">  // initialize LED digital pin as an output.</div>
<div class="line">  pinMode(LED_BUILTIN, OUTPUT);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop()</div>
<div class="line">{</div>
<div class="line">  // turn the LED on (HIGH is the voltage level)</div>
<div class="line">  digitalWrite(LED_BUILTIN, HIGH);</div>
<div class="line">  Serial.println(&quot;Hello World&quot;);</div>
<div class="line"> </div>
<div class="line">  // wait for a second</div>
<div class="line">  delay(1000);</div>
<div class="line"> </div>
<div class="line">  // turn the LED off by making the voltage LOW</div>
<div class="line">  digitalWrite(LED_BUILTIN, LOW);</div>
<div class="line"> </div>
<div class="line">   // wait for a second</div>
<div class="line">  delay(1000);</div>
<div class="line">}</div>
</div><!-- fragment --><p>Before building the project, ensure the enviornment is set to Teensy 4.1. If the enviornment (as shown in the bottom navigation bar) says "Default", change it.</p>
<p>Click on Default (agent_artemis).</p>
<p><img src="https://github.com/vip-aerospace/teensy-fsw-documentation/blob/main/documentation/step12.png?raw=true" alt="The Default Enviornment." class="inline"/></p>
<p>On the top of VSCode, a dropdown should have appeared. Click on env:teensy41</p>
<p><img src="https://github.com/vip-aerospace/teensy-fsw-documentation/blob/main/documentation/step13.png?raw=true" alt="The Enviornment Selection dropdown." class="inline"/></p>
<p>Verify your enviornment has changed.</p>
<p><img src="https://github.com/vip-aerospace/teensy-fsw-documentation/blob/main/documentation/step14.png?raw=true" alt="The teensy41 Enviornment." class="inline"/></p>
<p>Click the checkmark on the bottom navigation bar to build.</p>
<p><img src="https://github.com/vip-aerospace/teensy-fsw-documentation/blob/main/documentation/step15.png?raw=true" alt="The build button on the bottom navigation bar." class="inline"/></p>
<p>Connect a Teensy 4.1 to your computer over USB. Click the right arrow icon on the bottom navigation bar to upload the project to your Teensy.</p>
<p><img src="https://github.com/vip-aerospace/teensy-fsw-documentation/blob/main/documentation/step16.png?raw=true" alt="The upload button on the bottom navigation bar." class="inline"/></p>
<p>After a successful upload, you can monitor the Serial output by clicking the plug icon on the bottom navigation bar.</p>
<p><img src="https://github.com/vip-aerospace/teensy-fsw-documentation/blob/main/documentation/step17.png?raw=true" alt="The monitor button on the bottom navigation bar." class="inline"/></p>
<h1><a class="anchor" id="step4"></a>
Step 4: Clone the FSW</h1>
<p>Now that you've uploaded a test program, you are ready to work with the FSW. The easiest way to do so is with <a href="https://desktop.github.com/">GitHub Desktop.</a></p>
<p>Install it and log in using your GitHub credentials. Go to <a href="https://github.com/vip-aerospace/keao-flight-software">the FSW repo.</a> If you do not have access to this repo, verify that you have been added to <a href="https://github.com/vip-aerospace">the VIP Aerospace Technologies organization</a>. If you are not, ask team leadership to be added to the organization.</p>
<p>Once you have access to the repo, press the green "Code" button, then press the "Open with GitHub Desktop" button.</p>
<p><img src="https://github.com/vip-aerospace/teensy-fsw-documentation/blob/main/documentation/step18.png?raw=true" alt="The clone menu on the vip-aerospace/keao-flight-software repo." class="inline"/></p>
<p>GitHub Desktop will open with the Clone a repository dialog. You can choose where you want to save the repository here. It is usually a good idea to save the repo close to your root directory. Choose a local path and press "Clone".</p>
<p><img src="https://github.com/vip-aerospace/teensy-fsw-documentation/blob/main/documentation/step19.png?raw=true" alt="The clone a repository dialog in GitHub Desktop." class="inline"/></p>
<h1><a class="anchor" id="step5"></a>
Step 5: Run the FSW</h1>
<p>With the FSW repo cloned to your local machine, you are now ready to use it. However, the "Open in Visual Studio Code" button will not properly open the FSW. This is because the repo contains two main directories: an old copy of the FSW, and the current working copy.</p>
<p>To correctly open the FSW, open VSCode, Press File then Open Folder...</p>
<p>Navigate to the directory where you have the repo cloned (named keao-flight-software). Select the <code>teensy_fsw</code> directory and press "Select Folder".</p>
<p>VSCode will now load the FSW. Importantly, PlatformIO will also load.</p>
<p>To build and upload the code to the Teensy, you can use the individual buttons as described earlier in this guide. Alternatively, press the PlatformIO tab on the left navigation menu. The PlatformIO palette will open on the right, with your current enviornment selected.</p>
<p>Under teensy41 &gt; General, you have multiple options. To build, upload, and monitor the FSW all at once, press the "Upload and Monitor" option.</p>
<p><img src="https://github.com/vip-aerospace/teensy-fsw-documentation/blob/main/documentation/step20.png?raw=true" alt="The Upload and Monitor option in the PlatformIO palette." class="inline"/></p>
<p>The FSW will be compiled, uploaded, and sent to the Teensy. A Serial Monitor will be started in the Terminal window at the bottom. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
