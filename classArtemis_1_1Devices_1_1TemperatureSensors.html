<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ke Ao Teensy Flight Software: Artemis::Devices::TemperatureSensors Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Ke Ao Teensy Flight Software
   </div>
   <div id="projectbrief">The software on the Teensy in the Ke Ao cubesat.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classArtemis_1_1Devices_1_1TemperatureSensors.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classArtemis_1_1Devices_1_1TemperatureSensors-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Artemis::Devices::TemperatureSensors Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a86d343c14afc11f2804188af101fb64a"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArtemis_1_1Devices_1_1TemperatureSensors.html#a86d343c14afc11f2804188af101fb64a">setup_temperature</a> (void)</td></tr>
<tr class="memdesc:a86d343c14afc11f2804188af101fb64a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up analog connection to temperature sensors.  <br /></td></tr>
<tr class="separator:a86d343c14afc11f2804188af101fb64a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee5a1ca1e3b69d6294c17e1318bbecb2"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArtemis_1_1Devices_1_1TemperatureSensors.html#aee5a1ca1e3b69d6294c17e1318bbecb2">read_temperature</a> (uint32_t uptime)</td></tr>
<tr class="memdesc:aee5a1ca1e3b69d6294c17e1318bbecb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads temperature sensors and generates a packet on both RFM23 and Astrodev queues.  <br /></td></tr>
<tr class="separator:aee5a1ca1e3b69d6294c17e1318bbecb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a1d1ca304b40d3720d247ed12b2e0733f"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArtemis_1_1Devices_1_1TemperatureSensors.html#a1d1ca304b40d3720d247ed12b2e0733f">temp_sensors</a></td></tr>
<tr class="memdesc:a1d1ca304b40d3720d247ed12b2e0733f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mapping between temperature sensor string names and their analog pins.  <br /></td></tr>
<tr class="separator:a1d1ca304b40d3720d247ed12b2e0733f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aee5a1ca1e3b69d6294c17e1318bbecb2" name="aee5a1ca1e3b69d6294c17e1318bbecb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee5a1ca1e3b69d6294c17e1318bbecb2">&#9670;&#160;</a></span>read_temperature()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t Artemis::Devices::TemperatureSensors::read_temperature </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>uptime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads temperature sensors and generates a packet on both RFM23 and Astrodev queues. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uptime</td><td>The time, in milliseconds, that the Teensy has been powered on. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int32_t Returns 0 if successful, -1 if temperature sensors have not been set up first. </dd></dl>
<p>The temperature sensors are only polled if they have been set up.</p>
<p>A packet and temperature beacon are created. The beacon is given an identification value.</p>
<p>Each temperature sensor is iterated over. It is read via its analog pin, with that raw voltage reading converted to Celcius. It is then stored in the temperature beacon's array.</p>
<p>The packet's header information is filled out, identifying the originator node, destination node, and packet type. The beacon is then copied into the payload of the packet. The packet is then copied into the RFM23 and Astrodev queues for transmission.</p>

</div>
</div>
<a id="a86d343c14afc11f2804188af101fb64a" name="a86d343c14afc11f2804188af101fb64a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86d343c14afc11f2804188af101fb64a">&#9670;&#160;</a></span>setup_temperature()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t Artemis::Devices::TemperatureSensors::setup_temperature </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up analog connection to temperature sensors. </p>
<dl class="section return"><dt>Returns</dt><dd>int32_t Always returns 0. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a1d1ca304b40d3720d247ed12b2e0733f" name="a1d1ca304b40d3720d247ed12b2e0733f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d1ca304b40d3720d247ed12b2e0733f">&#9670;&#160;</a></span>temp_sensors</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, int&gt; Artemis::Devices::TemperatureSensors::temp_sensors</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">                {<span class="stringliteral">&quot;obc&quot;</span>, A0},</div>
<div class="line">                {<span class="stringliteral">&quot;pdu&quot;</span>, A1},</div>
<div class="line">                {<span class="stringliteral">&quot;battery_board&quot;</span>, A6},</div>
<div class="line">                {<span class="stringliteral">&quot;solar_panel_1&quot;</span>, A7},</div>
<div class="line">                {<span class="stringliteral">&quot;solar_panel_2&quot;</span>, A8},</div>
<div class="line">                {<span class="stringliteral">&quot;solar_panel_3&quot;</span>, A9},</div>
<div class="line">                {<span class="stringliteral">&quot;solar_panel_4&quot;</span>, A17},</div>
<div class="line">            }</div>
</div><!-- fragment -->
<p>Mapping between temperature sensor string names and their analog pins. </p>
<p>Each temperature sensor is attached to an analog-capable pin on the Teensy. This mapping ties each of those pins with the name of the sensor it is attached to.</p>
<p>The mapping is as follows:</p><ul>
<li>"obc" to analog pin 0 (physical pin 14)</li>
<li>"pdu" to analog pin 1 (physical pin 15)</li>
<li>"battery_board" to analog pin 6 (physical pin 20)</li>
<li>"solar_panel_1" to analog pin 7 (physical pin 21)</li>
<li>"solar_panel_2" to analog pin 8 (physical pin 22)</li>
<li>"solar_panel_3" to analog pin 9 (physical pin 23)</li>
<li>"solar_panel_4" to analog pin 17 (physical pin 41) </li>
</ul>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>teensy_fsw/include/<a class="el" href="artemis__devices_8h_source.html">artemis_devices.h</a></li>
<li>teensy_fsw/src/<a class="el" href="artemis__devices_8cpp.html">artemis_devices.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>Artemis</b></li><li class="navelem"><a class="el" href="namespaceArtemis_1_1Devices.html">Devices</a></li><li class="navelem"><a class="el" href="classArtemis_1_1Devices_1_1TemperatureSensors.html">TemperatureSensors</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
